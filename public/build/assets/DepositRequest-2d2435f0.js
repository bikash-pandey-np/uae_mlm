import{r as l,j as e,d as o}from"./app-74522766.js";import b from"./Layout-18d60ed8.js";import N from"./PageHeader-d774ef4b.js";import{b as g,A as v,a as _}from"./index-6d90cf89.js";import k from"./Modal-14da5cce.js";/* empty css            */import"./MenuBar-cd6a38b4.js";import"./iconBase-f2e453a7.js";const E=({depositRequests:a,search:c})=>{console.log(a);const[n,i]=l.useState(null),[A,r]=l.useState(null),[d,m]=l.useState(""),x=[{name:"Home",link:"/"},{name:"Deposit Requests",link:"/dashboard"}],p=s=>{i(s.id),r(s)},h=()=>{i(null),r(null)},u=s=>{if(s.deposit_info.currency==="INR")return e.jsxs("div",{children:[e.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between p-2",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 sm:w-1/3",children:"Bank Name"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:w-2/3 font-bold",children:s.deposit_info.flat_bank_name})]}),e.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between p-2",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 sm:w-1/3",children:"Account No."}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:w-2/3 font-bold",children:s.deposit_info.flat_account_no})]}),e.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between p-2",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 sm:w-1/3",children:"Account Name"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:w-2/3 font-bold",children:s.deposit_info.flat_account_name})]})]});if(s.deposit_info.currency==="USDT")return e.jsxs("div",{children:[e.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between p-2",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 sm:w-1/3",children:"Network Type"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:w-2/3 font-bold",children:s.deposit_info.network_type})]}),e.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between p-2",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 sm:w-1/3",children:"Wallet Address"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:w-2/3 font-bold",children:s.deposit_info.wallet_address})]})]})},j=s=>{const{value:t}=s.target;m(t)},y=s=>{s.key==="Enter"&&o.Inertia.get(route("admin.deposit-requests"),{search:d})},f=s=>{m(""),o.Inertia.get(route("admin.deposit-requests"),{search:d})};return e.jsxs(b,{children:[e.jsx(N,{title:"Manage Deposit Requests",buttonLabel:"Add New",buttonLink:route("admin.create.deposit-info"),breadcrumbItems:x}),e.jsx("div",{className:"my-4 mx-auto max-w-md",children:e.jsx("input",{type:"search",value:d,onChange:j,onKeyDown:y,placeholder:"Search...",className:"border border-gray-300 rounded-md p-2 focus:outline-none focus:border-blue-500"})}),c&&e.jsxs("div",{className:"flex items-center bg-yellow-200 text-gray-700 px-3 py-2 rounded",children:[e.jsxs("p",{children:["Showing Search Results for : ",e.jsx("span",{className:"font-bold",children:c})]}),e.jsx("p",{className:"ml-4 mr-2",children:"Cancel Search"}),e.jsx(g,{className:"h-5 w-5 cursor-pointer",onClick:s=>f()})]}),e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 mt-4",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left font-bold text-gray-500 uppercase tracking-wider",children:"Customer ID"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left font-bold text-gray-500 uppercase tracking-wider",children:"Request Amount"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left font-bold text-gray-500 uppercase tracking-wider",children:"Code"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left font-bold text-gray-500 uppercase tracking-wider",children:"Approve"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left font-bold text-gray-500 uppercase tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.data.map((s,t)=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black-500",children:[s.deposited_by.customer_code,e.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold text-white ml-4 ${s.status==="Pending"?"bg-blue-500":s.status==="Approved"?"bg-green-500":"bg-red-500"}`,children:s.status})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black-500",children:[s.amount," ",s.currency]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black-500",children:s.transaction_code}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black-500",children:s.is_approved?e.jsx("div",{children:e.jsxs("span",{className:"block text-xs",children:[s.approved_amount," USDT"]})}):e.jsxs("div",{children:[e.jsx("button",{className:"bg-green-500 text-white px-3 py-1 rounded-md text-xs",children:"Approve"}),e.jsx("button",{className:"ml-3 bg-red-500 text-white px-3 py-1 rounded-md text-xs",children:"Reject"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black-500",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(v,{onClick:()=>p(s),className:"text-blue-500 hover:text-blue-700 cursor-pointer"}),e.jsx(_,{className:"ml-2 text-green-500 hover:text-green-700 cursor-pointer"}),n===s.id&&e.jsxs(k,{isOpen:n===s.id,onClose:h,children:[e.jsx("h1",{className:"font-bold mb-3",children:"Deposit Request Details"}),e.jsxs("dl",{className:"grid grid-cols-2 gap-x-4",children:[e.jsxs("div",{className:"py-2",children:[e.jsx("dt",{className:"font-bold",children:"Amount:"}),e.jsxs("dd",{children:[s.amount," ",s.currency]})]}),e.jsxs("div",{className:"py-2",children:[e.jsx("dt",{className:"font-bold",children:"Transaction Code:"}),e.jsx("dd",{children:s.transaction_code})]})]}),e.jsxs("dl",{className:"grid grid-cols-1 gap-x-4",children:[e.jsxs("div",{className:"py-2",children:[e.jsx("dt",{className:"font-bold",children:"Deposited By:"}),e.jsxs("dd",{children:[s.deposited_by.customer_code," (",s.deposited_by.email,")"]})]}),e.jsxs("div",{className:"py-2",children:[e.jsx("h3",{className:"font-bold font-md",children:"Deposited At"}),u(s)]}),e.jsxs("div",{className:"py-2",children:[e.jsx("dt",{className:"font-bold",children:"Status:"}),e.jsx("dd",{children:s.status})]}),e.jsxs("div",{className:"py-2",children:[e.jsx("dt",{className:"font-bold",children:"Deposit Request At:"}),e.jsx("dd",{children:s.created_at})]}),s.is_approved&&e.jsxs("div",{className:"py-2",children:[e.jsx("dt",{className:"font-bold",children:"Approved Amount:"}),e.jsxs("dd",{children:[s.approved_amount," ",s.currency]})]}),s.remark&&e.jsxs("div",{className:"py-2",children:[e.jsx("dt",{className:"font-bold",children:"Remark:"}),e.jsx("dd",{children:s.remark})]})]})]})]})})]},t))})]}),e.jsx("div",{className:"flex justify-center mt-4",children:e.jsx("ul",{className:"flex",children:a.links.map((s,t)=>e.jsx("li",{children:e.jsx("a",{href:s.url,className:`mx-1 px-3 py-1 rounded-md ${s.active?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,disabled:!s.url,children:s.label})},t))})})]})};export{E as default};
