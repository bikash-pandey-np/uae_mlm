import{t as u,r as x,j as n}from"./app-401a98f7.js";import $ from"./MenuBar-17cea819.js";import X from"./BottomNavbar-1751878b.js";/* empty css              *//* empty css            */import"./iconBase-0f68eddb.js";import"./Logo-c77b8224.js";import"./index-04045716.js";function C(){return C=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o])}return i},C.apply(this,arguments)}var P=u.createElement("svg",{viewBox:"-2 -5 14 20",height:"100%",width:"100%",style:{position:"absolute",top:0}},u.createElement("path",{d:"M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12",fill:"#fff",fillRule:"evenodd"})),V=u.createElement("svg",{height:"100%",width:"100%",viewBox:"-2 -5 17 21",style:{position:"absolute",top:0}},u.createElement("path",{d:"M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0",fill:"#fff",fillRule:"evenodd"}));function E(i){if(i.length===7)return i;for(var e="#",t=1;t<4;t+=1)e+=i[t]+i[t];return e}function M(i,e,t,o,s){return function(l,f,r,a,g){var p=(l-r)/(f-r);if(p===0)return a;if(p===1)return g;for(var v="#",h=1;h<6;h+=2){var b=parseInt(a.substr(h,2),16),d=parseInt(g.substr(h,2),16),k=Math.round((1-p)*b+p*d).toString(16);k.length===1&&(k="0"+k),v+=k}return v}(i,e,t,E(o),E(s))}var O=function(i){function e(t){i.call(this,t);var o=t.height,s=t.width,l=t.checked;this.t=t.handleDiameter||o-2,this.i=Math.max(s-o,s-(o+this.t)/2),this.o=Math.max(0,(o-this.t)/2),this.state={h:l?this.i:this.o},this.l=0,this.u=0,this.p=this.p.bind(this),this.v=this.v.bind(this),this.g=this.g.bind(this),this.k=this.k.bind(this),this.m=this.m.bind(this),this.M=this.M.bind(this),this.T=this.T.bind(this),this.$=this.$.bind(this),this.C=this.C.bind(this),this.D=this.D.bind(this),this.O=this.O.bind(this),this.S=this.S.bind(this)}return i&&(e.__proto__=i),(e.prototype=Object.create(i&&i.prototype)).constructor=e,e.prototype.componentDidMount=function(){this.W=!0},e.prototype.componentDidUpdate=function(t){t.checked!==this.props.checked&&this.setState({h:this.props.checked?this.i:this.o})},e.prototype.componentWillUnmount=function(){this.W=!1},e.prototype.I=function(t){this.H.focus(),this.setState({R:t,j:!0,B:Date.now()})},e.prototype.L=function(t){var o=this.state,s=o.R,l=o.h,f=(this.props.checked?this.i:this.o)+t-s;o.N||t===s||this.setState({N:!0});var r=Math.min(this.i,Math.max(this.o,f));r!==l&&this.setState({h:r})},e.prototype.U=function(t){var o=this.state,s=o.h,l=o.N,f=o.B,r=this.props.checked,a=(this.i+this.o)/2;this.setState({h:this.props.checked?this.i:this.o});var g=Date.now()-f;(!l||g<250||r&&s<=a||!r&&s>=a)&&this.A(t),this.W&&this.setState({N:!1,j:!1}),this.l=Date.now()},e.prototype.p=function(t){t.preventDefault(),typeof t.button=="number"&&t.button!==0||(this.I(t.clientX),window.addEventListener("mousemove",this.v),window.addEventListener("mouseup",this.g))},e.prototype.v=function(t){t.preventDefault(),this.L(t.clientX)},e.prototype.g=function(t){this.U(t),window.removeEventListener("mousemove",this.v),window.removeEventListener("mouseup",this.g)},e.prototype.k=function(t){this.X=null,this.I(t.touches[0].clientX)},e.prototype.m=function(t){this.L(t.touches[0].clientX)},e.prototype.M=function(t){t.preventDefault(),this.U(t)},e.prototype.$=function(t){Date.now()-this.l>50&&(this.A(t),Date.now()-this.u>50&&this.W&&this.setState({j:!1}))},e.prototype.C=function(){this.u=Date.now()},e.prototype.D=function(){this.setState({j:!0})},e.prototype.O=function(){this.setState({j:!1})},e.prototype.S=function(t){this.H=t},e.prototype.T=function(t){t.preventDefault(),this.H.focus(),this.A(t),this.W&&this.setState({j:!1})},e.prototype.A=function(t){var o=this.props;(0,o.onChange)(!o.checked,t,o.id)},e.prototype.render=function(){var t=this.props,o=t.checked,s=t.disabled,l=t.className,f=t.offColor,r=t.onColor,a=t.offHandleColor,g=t.onHandleColor,p=t.checkedIcon,v=t.uncheckedIcon,h=t.checkedHandleIcon,b=t.uncheckedHandleIcon,d=t.boxShadow,k=t.activeBoxShadow,m=t.height,S=t.width,j=t.borderRadius,H=function(w,R){var D={};for(var N in w)Object.prototype.hasOwnProperty.call(w,N)&&R.indexOf(N)===-1&&(D[N]=w[N]);return D}(t,["checked","disabled","className","offColor","onColor","offHandleColor","onHandleColor","checkedIcon","uncheckedIcon","checkedHandleIcon","uncheckedHandleIcon","boxShadow","activeBoxShadow","height","width","borderRadius","handleDiameter"]),T=this.state,y=T.h,c=T.N,I=T.j,A={position:"relative",display:"inline-block",textAlign:"left",opacity:s?.5:1,direction:"ltr",borderRadius:m/2,WebkitTransition:"opacity 0.25s",MozTransition:"opacity 0.25s",transition:"opacity 0.25s",touchAction:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},B={height:m,width:S,margin:Math.max(0,(this.t-m)/2),position:"relative",background:M(y,this.i,this.o,f,r),borderRadius:typeof j=="number"?j:m/2,cursor:s?"default":"pointer",WebkitTransition:c?null:"background 0.25s",MozTransition:c?null:"background 0.25s",transition:c?null:"background 0.25s"},L={height:m,width:Math.min(1.5*m,S-(this.t+m)/2+1),position:"relative",opacity:(y-this.o)/(this.i-this.o),pointerEvents:"none",WebkitTransition:c?null:"opacity 0.25s",MozTransition:c?null:"opacity 0.25s",transition:c?null:"opacity 0.25s"},_={height:m,width:Math.min(1.5*m,S-(this.t+m)/2+1),position:"absolute",opacity:1-(y-this.o)/(this.i-this.o),right:0,top:0,pointerEvents:"none",WebkitTransition:c?null:"opacity 0.25s",MozTransition:c?null:"opacity 0.25s",transition:c?null:"opacity 0.25s"},U={height:this.t,width:this.t,background:M(y,this.i,this.o,a,g),display:"inline-block",cursor:s?"default":"pointer",borderRadius:typeof j=="number"?j-1:"50%",position:"absolute",transform:"translateX("+y+"px)",top:Math.max(0,(m-this.t)/2),outline:0,boxShadow:I?k:d,border:0,WebkitTransition:c?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",MozTransition:c?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",transition:c?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s"},W={height:this.t,width:this.t,opacity:Math.max(2*(1-(y-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:c?null:"opacity 0.25s",MozTransition:c?null:"opacity 0.25s",transition:c?null:"opacity 0.25s"},z={height:this.t,width:this.t,opacity:Math.max(2*((y-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:c?null:"opacity 0.25s",MozTransition:c?null:"opacity 0.25s",transition:c?null:"opacity 0.25s"};return u.createElement("div",{className:l,style:A},u.createElement("div",{className:"react-switch-bg",style:B,onClick:s?null:this.T,onMouseDown:function(w){return w.preventDefault()}},p&&u.createElement("div",{style:L},p),v&&u.createElement("div",{style:_},v)),u.createElement("div",{className:"react-switch-handle",style:U,onClick:function(w){return w.preventDefault()},onMouseDown:s?null:this.p,onTouchStart:s?null:this.k,onTouchMove:s?null:this.m,onTouchEnd:s?null:this.M,onTouchCancel:s?null:this.O},b&&u.createElement("div",{style:W},b),h&&u.createElement("div",{style:z},h)),u.createElement("input",C({},{type:"checkbox",role:"switch","aria-checked":o,checked:o,disabled:s,style:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}},H,{ref:this.S,onFocus:this.D,onBlur:this.O,onKeyUp:this.C,onChange:this.$})))},e}(x.Component);O.defaultProps={disabled:!1,offColor:"#888",onColor:"#080",offHandleColor:"#fff",onHandleColor:"#fff",uncheckedIcon:P,checkedIcon:V,boxShadow:null,activeBoxShadow:"0 0 2px 3px #3bf",height:28,width:56};const tt=({slug:i,type:e,active:t})=>{const o=x.useRef(null),s=x.useRef(null),[l,f]=x.useState("long"),[r,a]=x.useState(null);x.useEffect(()=>{const p=async()=>{try{const b=await fetch(route("current-price"));if(b.ok){const d=await b.json();i==="AAVEUSDT"&&a(d.aaveusd),i==="LINKUSDT"&&a(d.linkusd),i==="BTCUSDT"&&a(d.bitcoin),i==="ETHUSDT"&&a(d.ethereum),i==="ADAUSDT"&&a(d.adausd),i==="META"&&a(d.facebook),i==="TSLA"&&a(d.tesla),i==="GOOG"&&a(d.google),i==="NVDA"&&a(d.nvidia),i==="AMZN"&&a(d.amzn),i==="NFLX"&&a(d.netflix)}else console.error("Failed to fetch data")}catch(b){console.error("Error fetching data:",b)}};p();const v=setInterval(p,3e3),h=document.createElement("script");return h.src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js",h.async=!0,h.innerHTML=JSON.stringify({symbol:e==="crypto"?`BINANCE:${i}`:`NASDAQ:${i}`,interval:"1",timezone:"Etc/UTC",theme:"light",style:"1",locale:"en",allow_symbol_change:!1,save_image:!1,calendar:!1,support_host:"https://www.tradingview.com",container_id:"tv-chart-container",library_path:"https://s3.tradingview.com/tv.js",autosize:!0,width:"100%",height:"100%",client_id:"tradingview-widget-container"}),h.onload=()=>{o.current&&o.current.appendChild(h)},o.current&&o.current.appendChild(h),()=>{o.current&&(o.current.removeChild(h),clearInterval(v))}},[i,e]),x.useEffect(()=>{typeof window.TradingView<"u"&&!s.current&&window.TradingView.onready(()=>{const p=new window.TradingView.widget({autosize:!0,symbol:e==="crypto"?`BINANCE:${i}`:`NASDAQ:${i}`,interval:"1",timezone:"Etc/UTC",theme:"light",style:"1",locale:"en",allow_symbol_change:!1,save_image:!1,calendar:!1,support_host:"https://www.tradingview.com",container_id:"tv-chart-container",library_path:"https://s3.tradingview.com/tv.js",client_id:"tradingview-widget-container"});s.current=p,(()=>{const h=document.getElementById("tv-chart-container");h&&(h.style.height="60vh")})()})},[i,e]);const g=p=>{f(p?"short":"long")};return n.jsxs("div",{children:[n.jsx($,{}),n.jsxs("section",{children:[n.jsxs("div",{className:"my-5 px-6 py-4",children:[n.jsx("h3",{className:"text-xl font-semibold",children:i}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"price",children:[n.jsx("p",{children:"Price"}),n.jsxs("h3",{className:"font-semibold text-xl",children:["$ ",r?r.price:null]}),n.jsxs("h3",{className:"font-semibold text-md",children:["~ ₹ ",r?(r.price*83.5).toFixed(2):null]})]}),n.jsxs("div",{className:"info col-span-1 text-right mt-2",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("p",{children:"24H High"}),n.jsxs("p",{className:"font-semibold",children:["$ ",r?r.high:null]})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("p",{children:"24H Low"}),n.jsxs("p",{className:"font-semibold",children:["$ ",r?r.low:null]})]})]})]})]}),n.jsx("div",{id:"tv-chart-container",ref:o,style:{height:"60vh",width:"100%"}}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[n.jsx("button",{className:`bg-green-500 text-white py-2 rounded-md font-semibold hover:bg-green-600 transition duration-200 ${l==="long"?"bg-opacity-100":"bg-opacity-50"}`,onClick:()=>f("long"),children:"Long"}),n.jsx("button",{className:`bg-red-500 text-white py-2 rounded-md font-semibold hover:bg-red-600 transition duration-200 ${l==="short"?"bg-opacity-100":"bg-opacity-50"}`,onClick:()=>f("short"),children:"Short"})]}),n.jsx("div",{className:"flex justify-center items-center mb-4 mt-6",children:n.jsxs("label",{className:"flex items-center cursor-pointer",children:[n.jsx(O,{checked:l==="short",onChange:g,className:"react-switch"}),n.jsxs("div",{className:"ml-3 text-gray-700 font-medium",children:["Toggle Order Book: ",l==="long"?"Long":"Short"]})]})}),n.jsxs("div",{className:"my-8",children:[l==="long"&&n.jsxs("div",{className:"bg-gray-100 p-4 rounded-md shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold text-green-500",children:"Long Order Book"}),n.jsx("p",{children:"Details for Long position..."})]}),l==="short"&&n.jsxs("div",{className:"bg-gray-100 p-4 rounded-md shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold text-red-500",children:"Short Order Book"}),n.jsx("p",{children:"Details for Short position..."})]})]})]}),n.jsx(X,{active:t})]})};export{tt as default};
